@import "tailwindcss";

/* ============================================
   COMPOSITION - CERN DETECTOR AESTHETIC
   ============================================

   Design Philosophy:
   Inspired by CERN particle physics control rooms,
   ATLAS/CMS detector cross-sections, and
   high-energy physics data visualization.

   NOT a generic terminal. A research instrument.
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@400;500;600;700&family=Overpass+Mono:wght@300;400;500;600&display=swap');

:root {
  /* ========== VOID - Background Layers ========== */
  --void-deep: #030305;
  --void-primary: #060609;
  --void-secondary: #0a0a0f;
  --void-tertiary: #0f0f16;
  --void-elevated: #14141e;
  --void-surface: #1a1a28;

  /* ========== DETECTOR - Wire Chamber Colors ========== */
  --wire-dim: #1a1a2e;
  --wire-medium: #252540;
  --wire-bright: #3d3d66;
  --wire-glow: rgba(100, 100, 180, 0.15);

  /* ========== PARTICLE - Accent Colors ========== */
  /* Gold - Stable elements, verified data, heavy particles */
  --particle-gold: #ffd700;
  --particle-gold-dim: #b8980a;
  --particle-gold-glow: rgba(255, 215, 0, 0.2);

  /* Cyan - Active tracking, live data, leptons */
  --particle-cyan: #00d4ff;
  --particle-cyan-dim: #00a8cc;
  --particle-cyan-glow: rgba(0, 212, 255, 0.15);

  /* Magenta - Collisions, processing, bosons */
  --particle-magenta: #ff2d7e;
  --particle-magenta-dim: #cc2464;
  --particle-magenta-glow: rgba(255, 45, 126, 0.15);

  /* Green - Element traces, hadrons */
  --particle-green: #39ff14;
  --particle-green-dim: #2ecc10;
  --particle-green-glow: rgba(57, 255, 20, 0.15);

  /* Orange - Warnings, estimations, jets */
  --particle-orange: #ff8c00;
  --particle-orange-dim: #cc7000;
  --particle-orange-glow: rgba(255, 140, 0, 0.15);

  /* ========== TEXT ========== */
  --text-bright: #f0f0f8;
  --text-primary: #d0d0e0;
  --text-secondary: #8080a0;
  --text-tertiary: #505070;
  --text-data: var(--particle-cyan);
  --text-highlight: var(--particle-gold);

  /* ========== BORDERS ========== */
  --border-wire: #202035;
  --border-active: rgba(0, 212, 255, 0.3);
  --border-focus: rgba(0, 212, 255, 0.6);
  --border-gold: rgba(255, 215, 0, 0.3);

  /* ========== CONFIDENCE LEVELS ========== */
  --confidence-verified: var(--particle-gold);
  --confidence-estimated: var(--particle-orange);
  --confidence-speculative: var(--particle-magenta);

  /* ========== NODE TYPES (Composition Hierarchy) ========== */
  --node-product: #ffffff;
  --node-component: var(--particle-cyan);
  --node-material: var(--particle-orange);
  --node-chemical: var(--particle-green);
  --node-element: var(--particle-gold);

  /* ========== TYPOGRAPHY ========== */
  --font-display: 'DM Sans', system-ui, sans-serif;
  --font-mono: 'Space Mono', 'Overpass Mono', monospace;
  --font-data: 'Overpass Mono', 'Space Mono', monospace;

  /* ========== SPACING ========== */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* ========== RADII ========== */
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 8px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* ========== SHADOWS ========== */
  --shadow-inset: inset 0 1px 2px rgba(0, 0, 0, 0.8);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.9);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.9);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.95);
  --shadow-glow-cyan: 0 0 20px var(--particle-cyan-glow), 0 0 40px var(--particle-cyan-glow);
  --shadow-glow-gold: 0 0 20px var(--particle-gold-glow), 0 0 40px var(--particle-gold-glow);
  --shadow-glow-magenta: 0 0 20px var(--particle-magenta-glow);

  /* ========== TRANSITIONS ========== */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out-expo: cubic-bezier(0.87, 0, 0.13, 1);
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;

  /* ========== DETECTOR GRID ========== */
  --grid-size: 40px;
  --grid-opacity: 0.04;
  --ring-count: 8;

  /* ========== LAYOUT ========== */
  --sidebar-width: 280px;
  --panel-min: 200px;
  --panel-max: 400px;
  --header-height: 64px;
  --footer-height: 32px;

  /* Legacy compatibility */
  --background: var(--void-primary);
  --foreground: var(--text-primary);
  --bg-primary: var(--void-primary);
  --bg-secondary: var(--void-secondary);
  --bg-tertiary: var(--void-tertiary);
  --bg-panel: var(--void-elevated);
  --accent-primary: var(--particle-cyan);
  --accent-secondary: var(--particle-gold);
  --text-mono: var(--particle-cyan);
  --border-subtle: var(--border-wire);
}

/* Tailwind theme bridge */
@theme inline {
  --color-background: var(--void-primary);
  --color-foreground: var(--text-primary);
  --font-sans: var(--font-display);
  --font-mono: var(--font-mono);
}

/* ============================================
   BASE STYLES
   ============================================ */

html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  background: var(--void-deep);
  color: var(--text-primary);
  font-family: var(--font-display);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.5;
  overflow-x: hidden;
}

/* Disable jarring transitions on theme changes */
* {
  transition: none;
}

/* ============================================
   DETECTOR BACKGROUND
   Radial grid pattern inspired by wire chambers
   ============================================ */

.detector-bg {
  position: relative;
  background: var(--void-deep);
}

.detector-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    /* Radial rings */
    repeating-radial-gradient(
      circle at 50% 50%,
      transparent 0px,
      transparent 79px,
      var(--wire-dim) 79px,
      var(--wire-dim) 80px
    ),
    /* Angular sectors */
    conic-gradient(
      from 0deg at 50% 50%,
      transparent 0deg,
      rgba(100, 100, 180, 0.02) 5deg,
      transparent 10deg,
      transparent 20deg,
      rgba(100, 100, 180, 0.02) 25deg,
      transparent 30deg
    ),
    /* Cartesian grid */
    linear-gradient(
      0deg,
      transparent 0%,
      transparent calc(100% - 1px),
      var(--wire-dim) 100%
    ),
    linear-gradient(
      90deg,
      transparent 0%,
      transparent calc(100% - 1px),
      var(--wire-dim) 100%
    );
  background-size:
    100% 100%,
    100% 100%,
    var(--grid-size) var(--grid-size),
    var(--grid-size) var(--grid-size);
  opacity: var(--grid-opacity);
  pointer-events: none;
}

/* Center glow effect */
.detector-bg::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 800px;
  height: 800px;
  background: radial-gradient(
    circle,
    var(--particle-cyan-glow) 0%,
    transparent 50%
  );
  opacity: 0.3;
  pointer-events: none;
}

/* ============================================
   SCROLLBARS - Minimalist detector style
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--void-secondary);
  border-left: 1px solid var(--border-wire);
}

::-webkit-scrollbar-thumb {
  background: var(--wire-medium);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--wire-bright);
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--wire-medium) var(--void-secondary);
}

/* ============================================
   SELECTION
   ============================================ */

::selection {
  background: var(--particle-cyan);
  color: var(--void-deep);
}

:focus-visible {
  outline: 1px solid var(--particle-cyan);
  outline-offset: 2px;
}

/* ============================================
   TYPOGRAPHY
   ============================================ */

.font-display {
  font-family: var(--font-display);
}

.font-mono {
  font-family: var(--font-mono);
}

.font-data {
  font-family: var(--font-data);
  font-feature-settings: 'tnum' 1, 'zero' 1;
}

.text-data {
  color: var(--text-data);
  font-family: var(--font-data);
}

.text-highlight {
  color: var(--text-highlight);
}

/* Detector-style labels */
.label-detector {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--text-tertiary);
}

/* ============================================
   PARTICLE COLORS - Utility classes
   ============================================ */

.particle-gold { color: var(--particle-gold); }
.particle-cyan { color: var(--particle-cyan); }
.particle-magenta { color: var(--particle-magenta); }
.particle-green { color: var(--particle-green); }
.particle-orange { color: var(--particle-orange); }

.bg-particle-gold { background: var(--particle-gold); }
.bg-particle-cyan { background: var(--particle-cyan); }
.bg-particle-magenta { background: var(--particle-magenta); }
.bg-particle-green { background: var(--particle-green); }
.bg-particle-orange { background: var(--particle-orange); }

/* ============================================
   CONFIDENCE INDICATORS
   ============================================ */

.confidence-verified {
  color: var(--confidence-verified);
}

.confidence-estimated {
  color: var(--confidence-estimated);
}

.confidence-speculative {
  color: var(--confidence-speculative);
}

/* ============================================
   NODE TYPE COLORS
   ============================================ */

.node-product { color: var(--node-product); }
.node-component { color: var(--node-component); }
.node-material { color: var(--node-material); }
.node-chemical { color: var(--node-chemical); }
.node-element { color: var(--node-element); }

/* ============================================
   DETECTOR PANELS
   ============================================ */

.detector-panel {
  background: var(--void-secondary);
  border: 1px solid var(--border-wire);
  border-radius: var(--radius-md);
  position: relative;
  overflow: hidden;
}

.detector-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--particle-cyan-glow) 50%,
    transparent 100%
  );
  opacity: 0.5;
}

.detector-panel-header {
  padding: var(--space-sm) var(--space-md);
  border-bottom: 1px solid var(--border-wire);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.detector-panel-content {
  padding: var(--space-md);
}

/* ============================================
   DETECTOR INPUT FIELD
   ============================================ */

.detector-input {
  background: var(--void-tertiary);
  border: 1px solid var(--border-wire);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  color: var(--text-bright);
  font-family: var(--font-mono);
  font-size: 14px;
  width: 100%;
  transition: border-color var(--duration-fast) var(--ease-out-expo),
              box-shadow var(--duration-fast) var(--ease-out-expo);
}

.detector-input:focus {
  outline: none;
  border-color: var(--particle-cyan);
  box-shadow: 0 0 0 3px var(--particle-cyan-glow),
              var(--shadow-glow-cyan);
}

.detector-input::placeholder {
  color: var(--text-tertiary);
}

/* ============================================
   DETECTOR BUTTONS
   ============================================ */

.btn-detector {
  position: relative;
  background: var(--void-tertiary);
  border: 1px solid var(--border-wire);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-lg);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out-expo);
  overflow: hidden;
}

.btn-detector::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    transparent 0%,
    rgba(255, 255, 255, 0.02) 50%,
    transparent 100%
  );
}

.btn-detector:hover {
  border-color: var(--particle-cyan);
  color: var(--text-bright);
  box-shadow: var(--shadow-glow-cyan);
}

.btn-detector:active {
  transform: scale(0.98);
}

/* Primary action button */
.btn-detector-primary {
  background: linear-gradient(
    135deg,
    var(--particle-cyan-dim) 0%,
    var(--particle-cyan) 100%
  );
  border-color: var(--particle-cyan);
  color: var(--void-deep);
  font-weight: 600;
}

.btn-detector-primary:hover {
  box-shadow: var(--shadow-glow-cyan);
  filter: brightness(1.1);
}

/* Gold/verified action */
.btn-detector-gold {
  border-color: var(--particle-gold-dim);
  color: var(--particle-gold);
}

.btn-detector-gold:hover {
  border-color: var(--particle-gold);
  box-shadow: var(--shadow-glow-gold);
}

/* ============================================
   STATUS INDICATORS
   ============================================ */

.status-indicator {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  position: relative;
}

.status-indicator::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: var(--radius-full);
  opacity: 0.4;
}

.status-active {
  background: var(--particle-cyan);
  box-shadow: 0 0 8px var(--particle-cyan);
}

.status-active::after {
  background: var(--particle-cyan);
  animation: pulse-ring 2s ease-out infinite;
}

.status-verified {
  background: var(--particle-gold);
  box-shadow: 0 0 8px var(--particle-gold);
}

.status-warning {
  background: var(--particle-orange);
  box-shadow: 0 0 8px var(--particle-orange);
}

.status-error {
  background: var(--particle-magenta);
  box-shadow: 0 0 8px var(--particle-magenta);
}

/* ============================================
   DETECTOR READOUT (Data display)
   ============================================ */

.readout {
  font-family: var(--font-data);
  font-size: 12px;
  padding: var(--space-xs) var(--space-sm);
  background: var(--void-tertiary);
  border: 1px solid var(--border-wire);
  border-radius: var(--radius-sm);
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
}

.readout-label {
  color: var(--text-tertiary);
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.readout-value {
  color: var(--text-data);
  font-feature-settings: 'tnum' 1;
}

/* ============================================
   RING NAVIGATION (Circular element)
   ============================================ */

.ring-nav {
  position: relative;
  border-radius: var(--radius-full);
  border: 1px solid var(--border-wire);
  background: var(--void-secondary);
}

.ring-nav::before {
  content: '';
  position: absolute;
  inset: 4px;
  border-radius: var(--radius-full);
  border: 1px dashed var(--wire-dim);
}

.ring-nav::after {
  content: '';
  position: absolute;
  inset: 12px;
  border-radius: var(--radius-full);
  border: 1px solid var(--border-wire);
}

/* ============================================
   WIRE FRAME CONTAINER
   ============================================ */

.wire-frame {
  position: relative;
  border: 1px solid var(--border-wire);
}

.wire-frame::before,
.wire-frame::after {
  content: '';
  position: absolute;
  width: 12px;
  height: 12px;
  border: 1px solid var(--wire-bright);
}

.wire-frame::before {
  top: -1px;
  left: -1px;
  border-right: none;
  border-bottom: none;
}

.wire-frame::after {
  bottom: -1px;
  right: -1px;
  border-left: none;
  border-top: none;
}

/* ============================================
   TRACK LINE (Connection visual)
   ============================================ */

.track-line {
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--particle-cyan) 20%,
    var(--particle-cyan) 80%,
    transparent 100%
  );
  opacity: 0.5;
}

.track-line-vertical {
  width: 1px;
  height: 100%;
  background: linear-gradient(
    180deg,
    transparent 0%,
    var(--particle-cyan) 20%,
    var(--particle-cyan) 80%,
    transparent 100%
  );
  opacity: 0.5;
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes pulse-ring {
  0% {
    transform: scale(1);
    opacity: 0.4;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes detector-scan {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes data-stream {
  0% {
    background-position: 0% 0%;
  }
  100% {
    background-position: 200% 0%;
  }
}

@keyframes particle-trace {
  0% {
    stroke-dashoffset: 100;
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 0;
  }
}

@keyframes glow-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Animation utilities */
.animate-pulse-ring {
  animation: pulse-ring 2s ease-out infinite;
}

.animate-detector-scan {
  animation: detector-scan 20s linear infinite;
}

.animate-data-stream {
  animation: data-stream 3s linear infinite;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-fade-in {
  animation: fade-in var(--duration-normal) var(--ease-out-expo);
}

.animate-slide-up {
  animation: slide-up var(--duration-normal) var(--ease-out-expo);
}

.animate-slide-in-right {
  animation: slide-in-right var(--duration-normal) var(--ease-out-expo);
}

/* Stagger delays for list animations */
.stagger-1 { animation-delay: 50ms; }
.stagger-2 { animation-delay: 100ms; }
.stagger-3 { animation-delay: 150ms; }
.stagger-4 { animation-delay: 200ms; }
.stagger-5 { animation-delay: 250ms; }

/* ============================================
   TREE VIEW STYLES
   ============================================ */

.tree-node {
  display: flex;
  align-items: center;
  padding: var(--space-xs) var(--space-sm);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background var(--duration-fast) var(--ease-out-expo);
  position: relative;
}

.tree-node::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 0;
  background: var(--particle-cyan);
  transition: height var(--duration-fast) var(--ease-out-expo);
}

.tree-node:hover {
  background: var(--void-tertiary);
}

.tree-node:hover::before {
  height: 60%;
}

.tree-node.selected {
  background: var(--particle-cyan-glow);
}

.tree-node.selected::before {
  height: 100%;
}

/* ============================================
   LOG/ACTIVITY STYLES
   ============================================ */

.log-entry {
  font-family: var(--font-data);
  font-size: 11px;
  padding: var(--space-xs) 0;
  color: var(--text-secondary);
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
}

.log-timestamp {
  color: var(--text-tertiary);
  flex-shrink: 0;
  font-feature-settings: 'tnum' 1;
}

.log-message {
  color: var(--text-primary);
}

.log-success .log-message {
  color: var(--particle-gold);
}

.log-error .log-message {
  color: var(--particle-magenta);
}

.log-warning .log-message {
  color: var(--particle-orange);
}

.log-info .log-message {
  color: var(--particle-cyan);
}

/* ============================================
   VIEWPORT STYLES (3D Canvas)
   ============================================ */

.viewport-container {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 400px;
  background: var(--void-deep);
  overflow: hidden;
}

.viewport-grid-overlay {
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(
      circle at 50% 50%,
      var(--wire-dim) 1px,
      transparent 1px
    );
  background-size: var(--grid-size) var(--grid-size);
  opacity: 0.3;
  pointer-events: none;
}

/* ============================================
   QUICK ACCESS TAGS
   ============================================ */

.specimen-tag {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs) var(--space-md);
  background: var(--void-tertiary);
  border: 1px solid var(--border-wire);
  border-radius: var(--radius-full);
  font-family: var(--font-mono);
  font-size: 12px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out-expo);
}

.specimen-tag:hover {
  background: var(--void-elevated);
  border-color: var(--particle-cyan);
  color: var(--text-bright);
  box-shadow: 0 0 12px var(--particle-cyan-glow);
}

.specimen-tag::before {
  content: '';
  width: 4px;
  height: 4px;
  border-radius: var(--radius-full);
  background: var(--particle-cyan);
}

/* ============================================
   LEGACY COMPATIBILITY
   ============================================ */

/* Support old variable names */
.bg-\[var\(--bg-primary\)\] { background: var(--void-primary); }
.bg-\[var\(--bg-secondary\)\] { background: var(--void-secondary); }
.bg-\[var\(--bg-tertiary\)\] { background: var(--void-tertiary); }
.bg-\[var\(--bg-panel\)\] { background: var(--void-elevated); }
.text-\[var\(--text-primary\)\] { color: var(--text-primary); }
.text-\[var\(--text-secondary\)\] { color: var(--text-secondary); }
.border-\[var\(--border-subtle\)\] { border-color: var(--border-wire); }

/* Canvas styles */
.canvas-container {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 400px;
  background: var(--void-deep);
}

.canvas-container canvas {
  display: block;
}
